# High-level Outline
## Choose files for analysis
 1. I allotted some time upfront to the automation of file downloads. I have a workflow for doing so that is minimal lift, and I would like the process I follow to be easily repeatable.
 2. I characterized the files based on the columns available, understnain

 While the exersize requires only 3 files, there is a large amount of data available to use. In the interest of transparancy and repeatability, I'll first discuss how I chose files best suited to demonstrating my skill set.
2. 

## Download | Time Taken ~10 min
 I allotted some time upfront to downloading and reviewing all of the files available to me; using Chrome Dev Tools and agentic AI to quickly downlaod all files. In this way, I can be smart about which files I choose for my final analysis.
### Procedure
1. I used Google Dev Tools Recorder to generate the JavaScript steps needed to select each year and download the file (see the screenshot below):
   ![Auto-generated JavaScript example](auto_generated_javascript.png)
2. I asked Cursor (my IDE) to generate Python code for this task using an agentic prompt. You can see the exact prompt I used in [`this export of my conversation with the Agent`](./prompts/cursor_download_files_from_archives_but).
3. I ran and reviewed [`the code generated by Cursor`](download_archives_selenium.py) and created a short list of improvements to be made to the code (also available in the above [`conversation export`](./prompts/cursor_download_files_from_archives_but)).
4. I reviewd the final code and ran it to download the files (``)


## Discrepancies found between files  
    - First row of each file is a file name row, we need to skip it 

## Data Quality Issues

### Null/Missing Values
| Column | Null Count | Null % | Notes |
|--------|-----------|---------|-------|
| event_month | 416/2856 | 14.57% | Missing in older files (2013-2014) |
| alert_criteria | 416/2856 | 14.57% | Correlates with event_month nulls |
| date_event_began | 33/2856 | 1.16% | Core timing field |
| time_event_began | 28/2856 | 0.98% | Mixed data types (datetime.time + strings) |
| restoration_date | 28/2856 | 0.98% | Mixed with "Unknown" values |
| restoration_time | 28/2856 | 0.98% | Mixed data types and placeholders |
| area_affected | 28/2856 | 0.98% | Location data |
| nerc_region | 52/2856 | 1.82% | Region identifier |
| event_type | 28/2856 | 0.98% | Event classification |
| demand_loss_(mw) | 75/2856 | 2.63% | Impact metric |
| number_of_customers_affected | 74/2856 | 2.59% | Impact metric |

### Whitespace Issues
- **event_month**: Trailing spaces (`'October '`, `'January '`)
- **nerc_region**: Leading/trailing spaces (`'WECC '`, `'RE '`, `'RF '`, `'MRO / RF'`)
- **alert_criteria**: Leading non-breaking spaces (`'\xa0Damage or destruction...'`, `'\xa0Unplanned evacuation...'`)
- **restoration_time**: Spaces in placeholders (`'Unknown '`, `'- Unknown'`)

### Mixed Data Types
- **time_event_began**: Mix of `datetime.time` objects and string representations (HH:MM:SS format)
- **restoration_time**: Mix of `datetime.time` objects, strings, and special values (`'Unknown'`, `'Ongoing'`, `'- Unknown'`, `'Unknown '`, `'1/0/1900'`, `'16:41'`)
- **demand_loss_(mw)**: Mix of numeric strings and integers (0, 8, 64, 166, etc.), plus `'Unknown'`
- **number_of_customers_affected**: Mix of numeric strings and integers, plus `'Unknown'`

### Special Values and Placeholders
- **restoration_date**: `'Unknown'` appears 28+ times, indicating unrecorded restoration info
- **restoration_time**: `'Unknown'`, `'Ongoing'`, `'- Unknown'`, `'Unknown '` (with spaces), `'1/0/1900'` (malformed date)
- **demand_loss_(mw)**: `'Unknown'` values mixed with numeric data
- **number_of_customers_affected**: `'Unknown'` values mixed with numeric data

### NERC Region Variations (39 unique values)
Expected: 7 main codes (WECC, SERC, NPCC, TRE, MRO, RFC, SPP)

Actual values include:
- **Standalone codes**: `'WECC'`, `'SERC'`, `'NPCC'`, `'TRE'`, `'MRO'`, `'RF'`
- **Slash-delimited combinations**: `'SERC/RF'`, `'TRE/WECC'`, `'TRE/SERC'`, `'WECC/SERC'`, `'SERC/MRO'`, `'WECC/MRO'`, `'RF/MRO'`, `'RF/SERC'`, `'MRO/RF'`, `'MRO/SERC'`, `'TRE/SERC/WECC'`, `'RFC; SERC'`
- **Comma/semicolon-delimited**: `'SERC,MRO'`, `'TRE,WECC'`, `'MRO / RF'`, `'SPP, SERC, TRE'`
- **Abbreviated codes**: `'RE'`, `'TE'`, `'PR'`
- **Alternative naming**: `'ERCOT'`, `'MPCC'`, `'FRCC'`, `'Texas RE'`, `'SPP RE'`
- **Non-standard**: `'RE '`, `'WECC '`, `'RF '`, `'RE,WECC'`
- **Nulls**: Some entries are missing

### Event Type Variations (158 unique values)
Expected: Standardized categorization

Actual issues:
- **Leading dashes**: `'- Weather or natural disaster'`, `'- Unknown'`, `'- Vandalism'`, `'- Physical attack'`
- **Typos/variations**: `'Sever Weather'` (missing 'e'), `'Suspicious activity'` (lowercase), `'Suspcious Activity'` (misspelled)
- **Multi-value fields**: Separated by `/`, `;`, `,`, or newlines (`'Severe Weather/Transmission Interruption'`, `'Actual Physical Attack/Vandalism'`, `'Physical attack - Vandalism'`)
- **Inconsistent formatting**: `'Vandalism '` (trailing space), `' Vandalism'` (leading space)
- **Abbreviated/short codes**: `'Vandalism'`, `'Sabotage'`, `'Cyber Event'`, `'Earthquake'`, `'Weather'`
- **Lengthy descriptions**: Full text descriptions vs abbreviated codes

### Area Affected Issues
- **Incomplete entries**: `'Maine:'`, `'Nebraska:'`, `'Illinois:'` - states only, no county info
- **Multi-state affected**: `'North Carolina: South Carolina:'`, `'Georgia: Alabama: Mississippi:'` - inconsistent formatting
- **Trailing punctuation**: `'Washington: Thurston County;'`, `'Massachusetts: Hampden County[13];'` - mixed semicolons/brackets
- **County variations**: Some entries have detailed county data, others are sparse
- **1229 unique values** across 2856 rows suggests high cardinality and many inconsistently formatted entries

### Alert Criteria Variations (91 unique values)
- **Non-breaking spaces** at beginning (`'\xa0Damage or destruction...'`, `'\xa0Unplanned evacuation...'`)
- **Multi-criteria entries**: Separated by newlines (`'\n'`) or semicolons, indicating multiple alert conditions
- **Substantive text** - most entries are long descriptive text (50-200+ characters)
- **14.57% nulls** - missing in older files (2013-2014)

### Numeric Field Issues
- **demand_loss_(mw)**: 418 unique values including `'0'` (string), `0` (integer), and `'Unknown'`
- **number_of_customers_affected**: 854 unique values with mixed numeric strings/integers and `'Unknown'` placeholders
- Both fields have valid ranges but mixed types require normalization before analysis

### Year Consistency
- **11 unique years**: 2013-2023 (complete decade of data)
- **No nulls** in year column (100% complete)
- Allows trend analysis across time periods